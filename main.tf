locals {
  # `az account list-locations --output json | jq -r '.[] | "\"\" = \"" + .name + "\" # " + .displayName'`
  display_name_to_name = {
    "East US" = "eastus",
    "East US 2" = "eastus2",
    "South Central US" = "southcentralus",
    "West US 2" = "westus2",
    "West US 3" = "westus3",
    "Australia East" = "australiaeast",
    "Southeast Asia" = "southeastasia",
    "North Europe" = "northeurope",
    "Sweden Central" = "swedencentral",
    "UK South" = "uksouth",
    "West Europe" = "westeurope",
    "Central US" = "centralus",
    "South Africa North" = "southafricanorth",
    "Central India" = "centralindia",
    "East Asia" = "eastasia",
    "Japan East" = "japaneast",
    "Korea Central" = "koreacentral",
    "Canada Central" = "canadacentral",
    "France Central" = "francecentral",
    "Germany West Central" = "germanywestcentral",
    "Norway East" = "norwayeast",
    "Poland Central" = "polandcentral",
    "Switzerland North" = "switzerlandnorth",
    "UAE North" = "uaenorth",
    "Brazil South" = "brazilsouth",
    "Central US EUAP" = "centraluseuap",
    "Qatar Central" = "qatarcentral",
    "United States EUAP" = "unitedstateseuap",
    "Brazil US" = "brazilus",
    "East US STG" = "eastusstg",
    "North Central US" = "northcentralus",
    "West US" = "westus",
    "Jio India West" = "jioindiawest",
    "East US 2 EUAP" = "eastus2euap",
    "South Central US STG" = "southcentralusstg",
    "West Central US" = "westcentralus",
    "South Africa West" = "southafricawest",
    "Australia Central" = "australiacentral",
    "Australia Central 2" = "australiacentral2",
    "Australia Southeast" = "australiasoutheast",
    "Japan West" = "japanwest",
    "Jio India Central" = "jioindiacentral",
    "Korea South" = "koreasouth",
    "South India" = "southindia",
    "West India" = "westindia",
    "Canada East" = "canadaeast",
    "France South" = "francesouth",
    "Germany North" = "germanynorth",
    "Norway West" = "norwaywest",
    "Switzerland West" = "switzerlandwest",
    "UK West" = "ukwest",
    "UAE Central" = "uaecentral",
    "Brazil Southeast" = "brazilsoutheast",
  }

  # https://learn.microsoft.com/en-us/azure/backup/scripts/geo-code-list
  name_to_geo_code = {
    "eastus" = "eus",
    "eastus2" = "eus2",
    "southcentralus" = "scus",
    "westus2" = "wus2",
    "westus3" = "wus3",
    "australiaeast" = "ae",
    "southeastasia" = "sea",
    "northeurope" = "ne",
    "swedencentral" = "sdc",
    "uksouth" = "uks",
    "westeurope" = "we",
    "centralus" = "cus",
    "southafricanorth" = "san",
    "centralindia" = "inc",
    "eastasia" = "ea",
    "japaneast" = "jpe",
    "koreacentral" = "krc",
    "canadacentral" = "cnc",
    "francecentral" = "frc",
    "germanywestcentral" = "gwc",
    "norwayeast" = "nwe",
    "switzerlandnorth" = "szn",
    "uaenorth" = "uan",
    "brazilsouth" = "brs",
    "centraluseuap" = "ccy",
    "northcentralus" = "ncus",
    "westus" = "wus",
    "jioindiawest" = "jiw",
    "eastus2euap" = "ecy",
    "westcentralus" = "wcus",
    "southafricawest" = "saw",
    "australiacentral" = "acl",
    "australiacentral2" = "acl2",
    "australiasoutheast" = "ase",
    "japanwest" = "jpw",
    "jioindiacentral" = "jic",
    "koreasouth" = "krs",
    "southindia" = "ins",
    "westindia" = "inw",
    "canadaeast" = "cne",
    "francesouth" = "frs",
    "germanynorth" = "gn",
    "norwaywest" = "nww",
    "switzerlandwest" = "szw",
    "ukwest" = "ukw",
    "uaecentral" = "uac",
    "brazilsoutheast" = "bse"
  }
 
  name = lookup(local.display_name_to_name, var.location, var.location)
  geo_code = lookup(local.name_to_geo_code, local.name, "xxx")
}
